# ─── Platform ────────────────────────────────────────────
# Mode: "cloud" for multi-tenant SaaS, "self-hosted" for single-tenant
MATHISON_MODE=self-hosted

# Base domain for the application
MATHISON_BASE_DOMAIN=localhost:3000

# Wildcard domain for tenant subdomains (cloud mode only)
# MATHISON_WILDCARD_DOMAIN=*.apps.example.com

# ─── Database ────────────────────────────────────────────
# PostgreSQL connection string (pgvector extension required)
DATABASE_URL=postgresql://mathison:mathison@localhost:5433/mathison

# ─── Redis ───────────────────────────────────────────────
# Redis connection for BullMQ job queue
REDIS_URL=redis://localhost:6379

# ─── Auth ────────────────────────────────────────────────
# Random secret for session encryption (generate with: openssl rand -base64 32)
AUTH_SECRET=generate-a-random-secret-here

# Canonical URL for auth callbacks (auto-detected in most cases)
# AUTH_URL=http://localhost:3000

# ─── LLM Provider ───────────────────────────────────────
# Which LLM provider to use: "openai", "anthropic", or "ollama"
LLM_PROVIDER=anthropic

# API keys (set the one matching your LLM_PROVIDER)
# OPENAI_API_KEY=sk-your-key-here
ANTHROPIC_API_KEY=sk-ant-your-key-here

# Override the default model for your provider
# LLM_MODEL=claude-sonnet-4-20250514

# For Ollama (self-hosted, air-gapped):
# LLM_PROVIDER=ollama
# OLLAMA_BASE_URL=http://localhost:11434
# LLM_MODEL=llama3

# ─── Kubernetes ──────────────────────────────────────────
# Path to kubeconfig when running outside the cluster
# When running inside the cluster, leave unset (uses service account)
# KUBECONFIG=~/.kube/config

# ─── Cluster Settings ───────────────────────────────────
# Ingress class (leave empty to auto-detect)
INGRESS_CLASS=

# TLS configuration
TLS_ENABLED=true
TLS_CLUSTER_ISSUER=letsencrypt-prod

# Storage class (leave empty for cluster default)
STORAGE_CLASS=

# ─── Tenant Defaults ────────────────────────────────────
# Default resource quotas for new tenants
DEFAULT_TENANT_CPU_QUOTA=4
DEFAULT_TENANT_MEMORY_QUOTA=8Gi
DEFAULT_TENANT_STORAGE_QUOTA=50Gi
